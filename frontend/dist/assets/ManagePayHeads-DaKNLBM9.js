import{a as x}from"./index-t--hEgTQ.js";import{_ as b,c as u,a as t,t as d,g as h,v as k,y as R,E as M,h as p,o as n,F as g,m as f,e as m,b as P,s as w,A as S,n as E,w as _,T as D,G as N,r as T}from"./index-D08fRg5P.js";const U={name:"PayHeadModal",props:{payHead:{type:Object,required:!0},title:{type:String,default:"Add New Pay Head"},isUpdate:{type:Boolean,default:!1}},data(){return{localPayHead:{...this.payHead}}},watch:{payHead(s){this.localPayHead={...s}}}},L={class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},I={class:"bg-white p-6 rounded-xl shadow-xl w-full max-w-md"},j={class:"flex justify-between items-center mb-4"},V={class:"text-2xl font-bold text-gray-800"},q={class:"space-y-4"},F={class:"mt-6 flex justify-end gap-4"},$=["disabled"];function z(s,e,o,c,a,i){return n(),u("div",L,[t("div",I,[t("div",j,[t("h2",V,d(o.title),1),t("button",{onClick:e[0]||(e[0]=l=>s.$emit("close")),class:"text-gray-500 hover:text-gray-700",title:"Close Modal"},e[8]||(e[8]=[t("span",{class:"material-icons-outlined"},"close",-1)]))]),t("div",q,[t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700"},"Name",-1)),h(t("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>a.localPayHead.name=l),type:"text",placeholder:"Enter payhead name",class:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[k,a.localPayHead.name]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700"},"Amount",-1)),h(t("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>a.localPayHead.amount=l),type:"number",placeholder:"Enter amount",min:"0",class:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[k,a.localPayHead.amount,void 0,{number:!0}]])]),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-700"},"Type",-1)),h(t("select",{"onUpdate:modelValue":e[3]||(e[3]=l=>a.localPayHead.type=l),class:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},e[11]||(e[11]=[t("option",{value:"Earnings"},"Earnings",-1),t("option",{value:"Deductions"},"Deductions",-1)]),512),[[R,a.localPayHead.type]])]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),h(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=l=>a.localPayHead.description=l),placeholder:"Enter description",class:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[k,a.localPayHead.description]])]),t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-gray-700"},"Recurring",-1)),h(t("input",{"onUpdate:modelValue":e[5]||(e[5]=l=>a.localPayHead.isRecurring=l),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[M,a.localPayHead.isRecurring]])])]),t("div",F,[t("button",{onClick:e[6]||(e[6]=l=>s.$emit("close")),class:"p-1.5 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition duration-200 transform hover:scale-105 flex items-center gap-1",title:"Cancel"},e[15]||(e[15]=[t("span",{class:"material-icons-outlined text-base"},"close",-1),p("Cancel ")])),t("button",{onClick:e[7]||(e[7]=l=>s.$emit("save",a.localPayHead)),class:"py-2 px-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition duration-200 flex items-center gap-1",disabled:!a.localPayHead.name||a.localPayHead.amount==null},[e[16]||(e[16]=t("span",{class:"material-icons-outlined text-base"},"save",-1)),p(d(o.isUpdate?"Update":"Save"),1)],8,$)])])])}const B=b(U,[["render",z]]),Q={props:{payHeads:{type:Array,required:!0}}},O={class:"bg-white p-5 rounded-xl shadow-md mb-8"},G={class:"min-w-full divide-y divide-gray-200"},W={class:"bg-white divide-y divide-gray-200"},J={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},K={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},X={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Y={class:"px-6 py-4 whitespace-nowrap text-sm font-medium flex gap-2"},Z=["onClick"],ee=["onClick"];function te(s,e,o,c,a,i){return n(),u("div",O,[t("table",G,[e[0]||(e[0]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Pay Head Name"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Amount"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Type"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",W,[(n(!0),u(g,null,f(o.payHeads,l=>(n(),u("tr",{key:l.id},[t("td",J,d(l.name),1),t("td",K,"P "+d(l.amount.toLocaleString()),1),t("td",X,d(l.type),1),t("td",Y,[t("button",{onClick:y=>s.$emit("update",l),class:"bg-yellow-50 text-yellow-600 font-semibold py-1.5 px-3 rounded-lg hover:bg-yellow-100 transition-all duration-200 flex items-center gap-2 text-xs"},"Update",8,Z),t("button",{onClick:y=>s.$emit("delete",l.id),class:"bg-red-50 text-red-600 font-semibold py-1.5 px-3 rounded-lg hover:bg-red-100 transition-all duration-200 flex items-center gap-2 text-xs"},"Delete",8,ee)])]))),128))])])])}const se=b(Q,[["render",te]]),ae={props:{employees:{type:Array,required:!0}}},le={class:"bg-white p-5 rounded-xl shadow-md"},oe={class:"min-w-full divide-y divide-gray-200"},ie={class:"bg-white divide-y divide-gray-200"},re={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ne={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},de={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ue={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ce={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ye={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},pe={class:"px-6 py-4 whitespace-nowrap text-sm font-medium flex gap-2"},me=["onClick"];function he(s,e,o,c,a,i){return n(),u("div",le,[e[1]||(e[1]=t("h2",{class:"text-xl font-bold mb-4"},"Employee Payroll Information",-1)),t("table",oe,[e[0]||(e[0]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"ID"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Name of Employee"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Position"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Total Deduction"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Total Earnings"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Total Salary"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",ie,[(n(!0),u(g,null,f(o.employees,l=>(n(),u("tr",{key:l.id},[t("td",re,d(l.id),1),t("td",ne,d(l.name),1),t("td",de,d(l.position),1),t("td",ue,"P "+d(l.totalDeduction.toLocaleString()),1),t("td",ce,"P "+d(l.totalEarnings.toLocaleString()),1),t("td",ye,"P "+d(l.totalSalary.toLocaleString()),1),t("td",pe,[t("button",{onClick:y=>s.$emit("addPayhead",l),class:"bg-blue-50 text-blue-600 font-semibold py-1.5 px-3 rounded-lg hover:bg-blue-100 transition-all duration-200 flex items-center gap-2 text-xs"},"Add Payhead",8,me)])]))),128))])])])}const ge=b(ae,[["render",he]]),fe={name:"AddPayheadModal",props:{availablePayheads:{type:Array,required:!0},selectedEmployeePayheads:{type:Array,default:()=>[]},totalPayableSalary:{type:Number,default:0},selectedEmployee:{type:Object,default:()=>({})},isUpdate:{type:Boolean,default:!1},mode:{type:String,default:""},employees:{type:Array,default:()=>[]}},data(){return{selectedPayhead:null,selectedPayheads:[],selectedEmployees:[]}},methods:{addPayhead(){this.selectedPayhead&&(this.$emit("addPayhead",{...this.selectedPayhead,uniqueId:Date.now()+Math.random()}),this.selectedPayhead=null)},removePayhead(s){this.$emit("removePayhead",s)},updatePayhead(s){this.$emit("updatePayhead",s)},bulkAssignPayheads(){if(this.selectedPayheads.length===0||this.selectedEmployees.length===0){this.$emit("error","Please select at least one payhead and one employee.");return}this.$emit("bulkAssign",{payheads:this.selectedPayheads,employees:this.selectedEmployees}),this.selectedPayheads=[],this.selectedEmployees=[]}}},xe={class:"fixed inset-0 flex items-center justify-center bg-black/50 z-50"},be={class:"bg-white p-6 rounded-xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto"},ve={class:"flex justify-between items-center mb-4"},Pe={class:"text-2xl font-bold text-gray-800"},we={key:0,class:"space-y-4"},Ee={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},_e={class:"space-y-2"},ke={class:"max-h-64 overflow-y-auto border rounded-lg p-2"},Me={key:0,class:"text-gray-500 text-sm text-center"},Ce=["value"],De={class:"text-sm text-gray-700"},Te={class:"space-y-2"},Re={class:"max-h-64 overflow-y-auto border rounded-lg p-2"},Ae={key:0,class:"text-gray-500 text-sm text-center"},He=["value"],Se={class:"text-sm text-gray-700"},Ne={class:"mt-6 flex justify-end gap-4"},Ue=["disabled"],Le={key:1,class:"space-y-4"},Ie={class:"bg-gray-100 p-4 rounded-lg"},je={class:"text-sm text-gray-700"},Ve={class:"text-sm text-gray-700"},qe={class:"text-sm text-gray-700"},Fe={key:0,class:"space-y-2"},$e=["disabled"],ze=["value"],Be=["disabled"],Qe={class:"space-y-2"},Oe=["onUpdate:modelValue","onChange","disabled"],Ge=["onClick","disabled"],We={key:2,class:"mt-6 flex justify-end gap-4"},Je=["disabled"],Ke={class:"material-icons text-base"};function Xe(s,e,o,c,a,i){return n(),u("div",xe,[t("div",be,[t("div",ve,[t("h2",Pe,d(o.mode==="bulkAssign"?"Bulk Assign Payheads to Employees":o.isUpdate?"Edit Payheads":`Add
                    Payheads
                    for Employee`),1),t("button",{onClick:e[0]||(e[0]=l=>s.$emit("close")),class:"text-gray-500 hover:text-gray-700",title:"Close Modal"},e[9]||(e[9]=[t("span",{class:"material-icons"},"close",-1)]))]),o.mode==="bulkAssign"?(n(),u("div",we,[t("div",Ee,[t("div",_e,[e[10]||(e[10]=t("h3",{class:"text-lg font-semibold text-gray-800"},"Available Payheads",-1)),t("div",ke,[o.availablePayheads.length===0?(n(),u("div",Me," No payheads available ")):(n(!0),u(g,{key:1},f(o.availablePayheads,l=>(n(),u("div",{key:l.id,class:"flex items-center p-2 hover:bg-gray-50 rounded"},[h(t("input",{type:"checkbox",value:l,"onUpdate:modelValue":e[1]||(e[1]=y=>a.selectedPayheads=y),class:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,Ce),[[M,a.selectedPayheads]]),t("label",De,d(l.name)+" ("+d(l.type)+", ₱"+d((l.amount||0).toLocaleString())+d(l.isRecurring?", Recurring":"")+") ",1)]))),128))])]),t("div",Te,[e[11]||(e[11]=t("h3",{class:"text-lg font-semibold text-gray-800"},"Employees",-1)),t("div",Re,[o.employees.length===0?(n(),u("div",Ae," No employees available ")):(n(!0),u(g,{key:1},f(o.employees,l=>(n(),u("div",{key:l.id,class:"flex items-center p-2 hover:bg-gray-50 rounded"},[h(t("input",{type:"checkbox",value:l,"onUpdate:modelValue":e[2]||(e[2]=y=>a.selectedEmployees=y),class:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,He),[[M,a.selectedEmployees]]),t("label",Se,d(l.firstName)+" "+d(l.lastName)+" ("+d(l.position||"N/A")+") ",1)]))),128))])])]),t("div",Ne,[t("button",{onClick:e[3]||(e[3]=l=>s.$emit("close")),class:"p-1.5 text-gray-700 hover:text-gray-900 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition duration-200 transform hover:scale-105 flex items-center gap-1",title:"Cancel"},e[12]||(e[12]=[t("span",{class:"material-icons text-base"},"close",-1),p("Cancel ")])),t("button",{onClick:e[4]||(e[4]=(...l)=>i.bulkAssignPayheads&&i.bulkAssignPayheads(...l)),class:"py-2 px-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition duration-200 flex items-center gap-1",disabled:a.selectedPayheads.length===0||a.selectedEmployees.length===0},e[13]||(e[13]=[t("span",{class:"material-icons text-base"},"save",-1),p("Assign Payheads ")]),8,Ue)])])):(n(),u("div",Le,[t("div",Ie,[t("p",je," Employee: "+d(o.selectedEmployee.name||o.selectedEmployee.firstName+" "+o.selectedEmployee.lastName||"N/A"),1),t("p",Ve," Base Salary: ₱"+d((o.selectedEmployee.salary||0).toLocaleString()),1),t("p",qe," Total Payable Salary: ₱"+d((o.totalPayableSalary||0).toLocaleString()),1)]),o.isUpdate?m("",!0):(n(),u("div",Fe,[e[16]||(e[16]=t("h3",{class:"text-lg font-semibold text-gray-800"},"Available Payheads",-1)),h(t("select",{"onUpdate:modelValue":e[5]||(e[5]=l=>a.selectedPayhead=l),class:"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:o.isUpdate},[e[14]||(e[14]=t("option",{value:"",disabled:""},"Select a Payhead",-1)),(n(!0),u(g,null,f(o.availablePayheads,l=>(n(),u("option",{key:l.id,value:l},d(l.name)+" ("+d(l.type)+", ₱"+d((l.amount||0).toLocaleString())+d(l.isRecurring?", Recurring":"")+") ",9,ze))),128))],8,$e),[[R,a.selectedPayhead]]),t("button",{onClick:e[6]||(e[6]=(...l)=>i.addPayhead&&i.addPayhead(...l)),class:"mt-2 p-1.5 text-gray-700 hover:text-blue-600 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition duration-200 transform hover:scale-105 flex items-center gap-1",disabled:!a.selectedPayhead||o.isUpdate,title:"Add Payhead"},e[15]||(e[15]=[t("span",{class:"material-icons text-base"},"add",-1),p("Add ")]),8,Be)])),t("div",Qe,[e[18]||(e[18]=t("h3",{class:"text-lg font-semibold text-gray-800"},"Selected Payheads",-1)),(n(!0),u(g,null,f(o.selectedEmployeePayheads,l=>(n(),u("div",{key:l.uniqueId,class:"flex items-center justify-between p-2 bg-gray-50 rounded-lg"},[t("span",null,d(l.name)+" ("+d(l.type)+", ₱"+d((l.amount||0).toLocaleString())+d(l.isRecurring?", Recurring":"")+")",1),t("div",null,[h(t("input",{"onUpdate:modelValue":y=>l.amount=y,type:"number",class:"w-24 p-1 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onChange:y=>i.updatePayhead(l),min:"0",disabled:o.isUpdate},null,40,Oe),[[k,l.amount,void 0,{number:!0}]]),t("button",{onClick:y=>i.removePayhead(l),class:"ml-2 p-1 text-red-500 hover:text-red-700",disabled:o.isUpdate,title:"Remove Payhead"},e[17]||(e[17]=[t("span",{class:"material-icons"},"delete",-1)]),8,Ge)])]))),128))])])),!o.mode||o.mode!=="bulkAssign"?(n(),u("div",We,[t("button",{onClick:e[7]||(e[7]=l=>s.$emit("close")),class:"p-1.5 text-gray-700 hover:text-gray-900 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition duration-200 transform hover:scale-105 flex items-center gap-1",title:"Cancel"},e[19]||(e[19]=[t("span",{class:"material-icons text-base"},"close",-1),p("Close ")])),t("button",{onClick:e[8]||(e[8]=l=>s.$emit("save")),class:"py-2 px-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition duration-200 flex items-center gap-1",disabled:o.isUpdate},[t("span",Ke,d(o.isUpdate?"edit":"save"),1),p(" "+d(o.isUpdate?"Update Payheads":"Save Payheads"),1)],8,Je)])):m("",!0)])])}const Ye=b(fe,[["render",Xe],["__scopeId","data-v-317affbd"]]),Ze={name:"RecurringDeductionModal",props:{availableDeductions:{type:Array,required:!0},employees:{type:Array,required:!0}},data(){return{selectedDeductions:[],selectedEmployees:[]}}},et={class:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50 z-50 transition-opacity duration-300"},tt={class:"bg-white rounded-2xl shadow-2xl p-6 w-full max-w-3xl max-h-[90vh] overflow-y-auto transform transition-all duration-300 ease-out scale-100 hover:scale-[1.01]"},st={class:"flex justify-between items-center border-b border-gray-200 pb-4 mb-4"},at={class:"grid grid-cols-2 gap-6 relative"},lt={class:"space-y-4 relative z-10"},ot={class:"space-y-3 max-h-72 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100"},it=["id","value"],rt=["for"],nt={class:"text-gray-500"},dt={class:"space-y-4 relative z-10"},ut={class:"space-y-3 max-h-72 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100"},ct=["id","value"],yt=["for"],pt={class:"text-gray-500"},mt={class:"mt-6 flex justify-end gap-4"},ht=["disabled"];function gt(s,e,o,c,a,i){return n(),u("div",et,[t("div",tt,[t("div",st,[e[6]||(e[6]=t("h2",{class:"text-2xl font-semibold text-gray-800 tracking-tight"},"Assign Recurring Deductions",-1)),t("button",{onClick:e[0]||(e[0]=l=>s.$emit("close")),class:"text-gray-500 hover:text-gray-700 transition-colors duration-200 p-2 rounded-full hover:bg-gray-100"},e[5]||(e[5]=[t("span",{class:"material-icons-outlined text-xl"},"close",-1)]))]),t("div",at,[e[9]||(e[9]=t("div",{class:"absolute inset-y-0 left-1/2 -ml-3 h-full border-l border-gray-200"},null,-1)),t("div",lt,[e[7]||(e[7]=t("h3",{class:"text-lg font-medium text-gray-700"},"Available Deductions",-1)),t("div",ot,[(n(!0),u(g,null,f(o.availableDeductions,l=>(n(),u("div",{key:l.id,class:"flex items-center p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-all duration-200 cursor-pointer"},[h(t("input",{type:"checkbox",id:"deduction-"+l.id,"onUpdate:modelValue":e[1]||(e[1]=y=>a.selectedDeductions=y),value:l,class:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500 transition-colors duration-200"},null,8,it),[[M,a.selectedDeductions]]),t("label",{for:"deduction-"+l.id,class:"ml-3 text-sm font-medium text-gray-900"},[p(d(l.name)+" ",1),t("span",nt,"(₱"+d(l.amount.toLocaleString())+")",1)],8,rt)]))),128))])]),t("div",dt,[e[8]||(e[8]=t("h3",{class:"text-lg font-medium text-gray-700"},"Employees",-1)),t("div",ut,[(n(!0),u(g,null,f(o.employees,l=>(n(),u("div",{key:l.id,class:"flex items-center p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-all duration-200 cursor-pointer"},[h(t("input",{type:"checkbox",id:"employee-"+l.id,"onUpdate:modelValue":e[2]||(e[2]=y=>a.selectedEmployees=y),value:l,class:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500 transition-colors duration-200"},null,8,ct),[[M,a.selectedEmployees]]),t("label",{for:"employee-"+l.id,class:"ml-3 text-sm font-medium text-gray-900"},[p(d(l.name)+" ",1),t("span",pt,"("+d(l.position)+")",1)],8,yt)]))),128))])])]),t("div",mt,[t("button",{onClick:e[3]||(e[3]=l=>s.$emit("close")),class:"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg font-medium hover:bg-gray-300 transition-all duration-200 shadow-sm"}," Cancel "),t("button",{onClick:e[4]||(e[4]=l=>s.$emit("save",a.selectedDeductions,a.selectedEmployees)),class:"py-2 px-4 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all duration-200 shadow-md disabled:opacity-50",disabled:a.selectedDeductions.length===0||a.selectedEmployees.length===0}," Save Changes ",8,ht)])])])}const ft=b(Ze,[["render",gt],["__scopeId","data-v-7380c2cf"]]),xt={name:"ManagePayHeads",components:{PayHeadModal:B,PayHeadTable:se,EmployeePayrollTable:ge,AddPayheadModal:Ye,RecurringDeductionModal:ft},data(){return{payHeads:[],employees:[],newPayHead:{name:"",amount:0,type:"Earnings",description:"",isRecurring:!1,appliedThisCycle:!1},selectedPayHead:{id:"",name:"",amount:0,type:"Earnings",description:"",isRecurring:!1,appliedThisCycle:!1},showAddModal:!1,showUpdateModal:!1,showAddPayheadModal:!1,showRecurringDeductionModal:!1,selectedEmployee:null,selectedEmployeePayheads:[],availablePayheads:[],statusMessage:"",searchQuery:"",filterType:"",activeTab:"payheads",currentPage:1,itemsPerPage:10,isLoading:!0}},computed:{filteredPayHeads(){let s=[...this.payHeads||[]];if(this.searchQuery){const e=this.searchQuery.toLowerCase();s=s.filter(o=>(o.name||"").toLowerCase().includes(e)||(o.description||"").toLowerCase().includes(e))}return this.filterType&&(s=s.filter(e=>e.type===this.filterType||this.filterType==="Recurring Deductions"&&e.isRecurring)),s},filteredEmployees(){let s=[...this.employees||[]];if(this.searchQuery){const e=this.searchQuery.toLowerCase();s=s.filter(o=>(o.name||"").toLowerCase().includes(e)||(o.position||"").toLowerCase().includes(e))}return this.filterType&&(s=s.filter(e=>{const o=this.calculateEarnings(e.payheads||[]),c=this.calculateDeductions(e.payheads||[]),a=this.calculateRecurringDeductions(e.payheads||[]);return this.filterType==="Earnings"?o>0:this.filterType==="Deductions"?c>0:this.filterType==="Recurring Deductions"?a>0:!0})),s},paginatedEmployees(){const s=(this.currentPage-1)*this.itemsPerPage,e=s+this.itemsPerPage;return this.filteredEmployees.slice(s,e)},totalPages(){return Math.ceil(this.filteredEmployees.length/this.itemsPerPage)||1},displayedPages(){const s=this.totalPages,e=this.currentPage,o=[];if(s<=7)for(let c=1;c<=s;c++)o.push(c);else if(e<=3){for(let c=1;c<=5;c++)o.push(c);o.push("...",s)}else if(e>=s-2){o.push(1,"...");for(let c=s-4;c<=s;c++)o.push(c)}else{o.push(1,"...");for(let c=e-1;c<=e+1;c++)o.push(c);o.push("...",s)}return o},totalPayableSalary(){if(!this.selectedEmployee)return 0;const s=this.calculateEarnings(this.selectedEmployeePayheads||[]),e=this.calculateDeductions(this.selectedEmployeePayheads||[]),o=this.calculateRecurringDeductions(this.selectedEmployeePayheads||[]);return(this.selectedEmployee.salary||0)+s-e-o}},methods:{async fetchPayHeads(){this.isLoading=!0,this.statusMessage="";try{const s=await x.get("http://localhost:7777/api/payheads",{headers:{"user-role":"admin"}});this.payHeads=(s.data||[]).map(e=>({...e,amount:Number(e.amount||0),isRecurring:e.isRecurring||!1,appliedThisCycle:e.appliedThisCycle||!1})),this.showSuccessMessage("Pay heads loaded successfully!")}catch(s){console.error("Error fetching pay heads:",s),this.showErrorMessage("Failed to load pay heads. Please try again."),this.payHeads=[]}finally{this.isLoading=!1}},async fetchEmployees(){this.isLoading=!0,this.statusMessage="";try{const s=await x.get("http://localhost:7777/api/employees",{headers:{"user-role":"admin"}});this.employees=(s.data||[]).map(e=>({...e,name:`${e.firstName||""} ${e.lastName||""}`.trim()||"Unknown Employee",position:e.position||"N/A",salary:Number(e.salary||0),payheads:(e.payheads||[]).map(o=>({...o,amount:Number(o.amount||0),isRecurring:o.isRecurring||!1,appliedThisCycle:o.appliedThisCycle||!1,uniqueId:o.uniqueId||`${Date.now()}-${Math.random().toString(36).substr(2,9)}`})),totalEarnings:this.calculateEarnings(e.payheads||[]),totalDeduction:this.calculateDeductions(e.payheads||[]),totalRecurringDeduction:this.calculateRecurringDeductions(e.payheads||[]),totalSalary:Number(e.salary||0)+this.calculateEarnings(e.payheads||[])-this.calculateDeductions(e.payheads||[])-this.calculateRecurringDeductions(e.payheads||[])})),this.showSuccessMessage("Employees loaded successfully!")}catch(s){console.error("Error fetching employees:",s),this.showErrorMessage("Failed to load employees. Please try again."),this.employees=[]}finally{this.isLoading=!1}},async initializeData(){this.isLoading=!0;try{await Promise.all([this.fetchPayHeads(),this.fetchEmployees()])}catch(s){console.error("Error initializing data:",s)}finally{this.isLoading=!1}},async addPayHead(s){try{this.isLoading=!0;const e={...s,amount:Number(s.amount||0),isRecurring:s.isRecurring||!1,appliedThisCycle:!1},o=await x.post("http://localhost:7777/api/payheads",e,{headers:{"user-role":"admin"}});this.payHeads.push({...o.data,amount:Number(o.data.amount||0)}),this.showAddModal=!1,this.showSuccessMessage("Pay head added successfully!"),await this.fetchEmployees()}catch(e){console.error("Error adding pay head:",e),this.showErrorMessage("Failed to add pay head.")}finally{this.isLoading=!1}},showUpdatePayHeadModal(s){this.selectedPayHead={...s,amount:Number(s.amount||0)},this.showUpdateModal=!0},async updatePayHead(s){try{this.isLoading=!0;const e={...s,amount:Number(s.amount||0),isRecurring:s.isRecurring||!1,appliedThisCycle:s.appliedThisCycle||!1},o=await x.put(`http://localhost:7777/api/payheads/${s.id}`,e,{headers:{"user-role":"admin"}}),c=this.payHeads.findIndex(a=>a.id===s.id);c!==-1&&(this.payHeads.splice(c,1,{...o.data,amount:Number(o.data.amount||0)}),this.showUpdateModal=!1,this.showSuccessMessage("Pay head updated successfully!"),await this.fetchEmployees())}catch(e){console.error("Error updating pay head:",e),this.showErrorMessage("Failed to update pay head.")}finally{this.isLoading=!1}},async confirmDeletePayHead(s){confirm("Are you sure you want to delete this pay head?")&&await this.deletePayHead(s)},async deletePayHead(s){try{this.isLoading=!0,await x.delete(`http://localhost:7777/api/payheads/${s}`,{headers:{"user-role":"admin"}}),this.payHeads=this.payHeads.filter(e=>e.id!==s),this.showSuccessMessage("Pay head deleted successfully!"),await this.fetchEmployees()}catch(e){console.error("Error deleting pay head:",e),this.showErrorMessage("Failed to delete pay head.")}finally{this.isLoading=!1}},openAddPayheadModal(s){console.log("Opening AddPayheadModal for employee:",s),this.selectedEmployee={...s,salary:Number(s.salary||0)},this.selectedEmployeePayheads=[...s.payheads||[]],this.availablePayheads=[...this.payHeads],this.showAddPayheadModal=!0,console.log("showAddPayheadModal:",this.showAddPayheadModal)},testOpenAddPayheadModal(){const s=this.employees[0]||{id:"test-id",name:"Test Employee",position:"Developer",salary:5e4,payheads:[]};this.openAddPayheadModal(s)},addPayheadToEmployee(s){const e={...s,amount:Number(s.amount||0),uniqueId:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,appliedThisCycle:s.isRecurring?!1:void 0};this.selectedEmployeePayheads.push(e)},removePayheadFromEmployee(s){this.selectedEmployeePayheads=this.selectedEmployeePayheads.filter(e=>e.uniqueId!==s.uniqueId)},updatePayheadInEmployee(s){const e=this.selectedEmployeePayheads.findIndex(o=>o.uniqueId===s.uniqueId);e!==-1&&this.selectedEmployeePayheads.splice(e,1,{...s,amount:Number(s.amount||0),appliedThisCycle:s.isRecurring?s.appliedThisCycle:void 0})},async savePayheads(){try{this.isLoading=!0;const s=this.selectedEmployeePayheads.map(a=>({_id:a._id,id:a.id,name:a.name,amount:Number(a.amount||0),type:a.type,isRecurring:a.isRecurring||!1,appliedThisCycle:a.isRecurring?a.appliedThisCycle||!1:void 0})),e=s.map(a=>a._id).filter(a=>a),o={...this.selectedEmployee,payheads:e,totalEarnings:this.calculateEarnings(s),totalDeduction:this.calculateDeductions(s),totalRecurringDeduction:this.calculateRecurringDeductions(s),totalSalary:Number(this.selectedEmployee.salary||0)+this.calculateEarnings(s)-this.calculateDeductions(s)-this.calculateRecurringDeductions(s)};await x.put(`http://localhost:7777/api/employees/${this.selectedEmployee.id}`,o,{headers:{"user-role":"admin"}});const c=this.employees.findIndex(a=>a.id===this.selectedEmployee.id);c!==-1&&this.employees.splice(c,1,{...o,payheads:s}),this.showAddPayheadModal=!1,this.showSuccessMessage("Payheads saved successfully!")}catch(s){console.error("Error saving payheads:",s),this.showErrorMessage("Failed to save payheads.")}finally{this.isLoading=!1}},async saveRecurringDeductions(s,e){var o;try{this.isLoading=!0;for(const c of e){const i=[...((o=this.employees.find(r=>r.id===c.id))==null?void 0:o.payheads)||[]];for(const r of s)if(!i.some(v=>v.id===r.id&&v.isRecurring)){const A=(await x.get("http://localhost:7777/api/payheads",{headers:{"user-role":"admin"},params:{id:r.id}})).data.find(H=>H.id===r.id);if(!A)throw new Error(`Payhead with id ${r.id} not found`);i.push({_id:A._id,id:r.id,name:r.name,amount:Number(r.amount||0),type:r.type,isRecurring:!0,appliedThisCycle:!1,uniqueId:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`})}const l=i.map(r=>r._id).filter(r=>r),y={...c,payheads:l,totalEarnings:this.calculateEarnings(i),totalDeduction:this.calculateDeductions(i),totalRecurringDeduction:this.calculateRecurringDeductions(i),totalSalary:Number(c.salary||0)+this.calculateEarnings(i)-this.calculateDeductions(i)-this.calculateRecurringDeductions(i)};await x.put(`http://localhost:7777/api/employees/${c.id}`,y,{headers:{"user-role":"admin"}});const C=this.employees.findIndex(r=>r.id===c.id);C!==-1&&this.employees.splice(C,1,{...y,payheads:i})}this.showRecurringDeductionModal=!1,this.showSuccessMessage("Recurring deductions saved successfully!")}catch(c){console.error("Error saving recurring deductions:",c),this.showErrorMessage("Failed to save recurring deductions.")}finally{this.isLoading=!1}},calculateEarnings(s=[]){return s.filter(e=>e.type==="Earnings").reduce((e,o)=>e+Number(o.amount||0),0)||0},calculateDeductions(s=[]){return s.filter(e=>e.type==="Deductions"&&!e.isRecurring).reduce((e,o)=>e+Number(o.amount||0),0)||0},calculateRecurringDeductions(s=[]){return s.filter(e=>e.isRecurring&&!e.appliedThisCycle).reduce((e,o)=>e+Number(o.amount||0),0)||0},prevPage(){this.currentPage>1&&this.currentPage--},nextPage(){this.currentPage<this.totalPages&&this.currentPage++},resetFilters(){this.searchQuery="",this.filterType=""},showSuccessMessage(s){this.statusMessage=s,setTimeout(()=>{this.statusMessage=""},3e3)},showErrorMessage(s){this.statusMessage=s,setTimeout(()=>{this.statusMessage=""},3e3)},resetPayheadsCycle(){this.payHeads=this.payHeads.map(s=>({...s,appliedThisCycle:s.isRecurring?!1:s.appliedThisCycle})),this.employees=this.employees.map(s=>({...s,payheads:(s.payheads||[]).map(e=>({...e,appliedThisCycle:e.isRecurring?!1:e.appliedThisCycle}))}))}},created(){this.initializeData(),setInterval(()=>this.resetPayheadsCycle(),24*60*60*1e3)}},bt={class:"flex-1 max-w-9xl mx-auto px-2 sm:px-4 lg:px-6 py-1"},vt={class:"bg-white rounded-lg shadow-sm p-3 mb-4 border border-gray-100"},Pt={class:"grid grid-cols-1 md:grid-cols-12 gap-3"},wt={class:"md:col-span-5 relative"},Et={class:"relative"},_t={class:"md:col-span-3"},kt={class:"relative"},Mt={class:"md:col-span-4"},Ct={class:"flex rounded-md bg-gray-100 p-0.5 shadow-inner"},Dt=["onClick"],Tt={class:"flex items-center justify-center gap-1"},Rt={class:"material-icons text-xs"},At={key:0,class:"mb-4 flex items-center justify-between px-4 py-2 bg-gray-50 rounded-lg shadow-sm border border-gray-100"},Ht={class:"text-base font-medium text-gray-900"},St={class:"flex items-center space-x-2"},Nt={key:1,class:"bg-white rounded-lg shadow-sm flex justify-center items-center p-10"},Ut={key:2,class:"bg-white rounded-lg shadow-sm border border-gray-100"},Lt={class:"flex flex-col items-center justify-center py-8 px-3 sm:px-4 lg:px-6"},It={class:"mt-1 text-gray-500 text-center max-w-sm text-xs"},jt={key:3,class:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-100"},Vt={key:0,class:"px-4 py-2 border-b bg-gray-50"},qt={class:"text-xs text-gray-500"},Ft={class:"overflow-x-auto"},$t={key:1,class:"flex items-center justify-between px-4 py-2 bg-gray-50 border-t"},zt={class:"text-xs text-gray-700"},Bt={class:"font-medium"},Qt={class:"font-medium"},Ot={class:"font-medium"},Gt={class:"flex items-center space-x-1"},Wt=["disabled"],Jt={class:"flex items-center gap-0.5"},Kt=["onClick"],Xt={key:1,class:"px-1 text-gray-500 text-xs"},Yt=["disabled"],Zt={class:"fixed bottom-2 right-2 z-50 space-y-2"},es={class:"p-2"},ts={class:"flex items-center"},ss={class:"flex-shrink-0"},as={class:"ml-2 flex-1"},ls={class:"text-xs font-medium text-gray-900"};function os(s,e,o,c,a,i){const l=T("PayHeadModal"),y=T("AddPayheadModal"),C=T("RecurringDeductionModal");return n(),u("div",null,[t("main",bt,[t("div",vt,[t("div",Pt,[t("div",wt,[e[16]||(e[16]=t("label",{for:"search",class:"block text-xs font-medium text-gray-700 mb-0.5"},"Search",-1)),t("div",Et,[e[15]||(e[15]=t("span",{class:"material-icons absolute left-2 top-1/2 -translate-y-1/2 text-gray-400 text-base"}," search ",-1)),h(t("input",{id:"search","onUpdate:modelValue":e[0]||(e[0]=r=>a.searchQuery=r),type:"text",placeholder:"Search by name or description...",class:"w-full pl-8 pr-3 py-1.5 border rounded-md focus:ring-1 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all text-sm"},null,512),[[k,a.searchQuery]]),a.searchQuery?(n(),u("button",{key:0,onClick:e[1]||(e[1]=r=>a.searchQuery=""),class:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-700",title:"Clear Search"},e[14]||(e[14]=[t("span",{class:"material-icons text-base"},"clear",-1)]))):m("",!0)])]),t("div",_t,[e[20]||(e[20]=t("label",{for:"filter",class:"block text-xs font-medium text-gray-700 mb-0.5"},"Filter Type",-1)),t("div",kt,[e[18]||(e[18]=t("span",{class:"material-icons absolute left-2 top-1/2 -translate-y-1/2 text-gray-400 text-base"}," filter_list ",-1)),h(t("select",{id:"filter","onUpdate:modelValue":e[2]||(e[2]=r=>a.filterType=r),class:"w-full pl-8 pr-7 py-1.5 border rounded-md appearance-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 outline-none text-sm"},e[17]||(e[17]=[t("option",{value:""},"All Types",-1),t("option",{value:"Earnings"},"Earnings",-1),t("option",{value:"Deductions"},"Deductions",-1),t("option",{value:"Recurring Deductions"},"Recurring Deductions",-1)]),512),[[R,a.filterType]]),e[19]||(e[19]=t("span",{class:"material-icons absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none text-base"}," arrow_drop_down ",-1))])]),t("div",Mt,[e[21]||(e[21]=t("label",{class:"block text-xs font-medium text-gray-700 mb-0.5"},"View",-1)),t("div",Ct,[(n(),u(g,null,f(["payheads","employees"],r=>t("button",{key:r,onClick:v=>a.activeTab=r,class:E(["flex-1 px-3 py-1.5 rounded-sm text-xs font-medium transition-all",a.activeTab===r?"bg-white text-blue-600 shadow":"text-gray-600 hover:text-gray-900"])},[t("div",Tt,[t("span",Rt,d(r==="payheads"?"payments":"people"),1),p(" "+d(r.charAt(0).toUpperCase()+r.slice(1)),1)])],10,Dt)),64))])])])]),a.isLoading?m("",!0):(n(),u("div",At,[t("h2",Ht,d(a.activeTab==="payheads"?"Pay Heads":"Employees"),1),t("div",St,[a.activeTab==="payheads"?(n(),u("button",{key:0,onClick:e[3]||(e[3]=r=>a.showAddModal=!0),class:"inline-flex items-center px-2 py-0.5 bg-blue-600 text-white rounded-sm text-xs font-medium hover:bg-blue-700 focus:outline-none focus:ring-1 focus:ring-offset-1 focus:ring-blue-500 transition-all shadow-sm transform hover:scale-105"},e[22]||(e[22]=[t("span",{class:"material-icons text-xs mr-1"},"add",-1),p(" New Pay Head ")]))):m("",!0),a.activeTab==="payheads"?(n(),u("button",{key:1,onClick:e[4]||(e[4]=r=>a.showRecurringDeductionModal=!0),class:"inline-flex items-center px-2 py-0.5 bg-green-600 text-white rounded-sm text-xs font-medium hover:bg-green-700 focus:outline-none focus:ring-1 focus:ring-offset-1 focus:ring-green-500 transition-all shadow-sm transform hover:scale-105"},e[23]||(e[23]=[t("span",{class:"material-icons text-xs mr-1"},"repeat",-1),p(" Add Recurring Deduction ")]))):m("",!0),a.activeTab==="employees"?(n(),u("button",{key:2,onClick:e[5]||(e[5]=(...r)=>i.testOpenAddPayheadModal&&i.testOpenAddPayheadModal(...r)),class:"inline-flex items-center px-2 py-0.5 bg-purple-600 text-white rounded-sm text-xs font-medium hover:bg-purple-700 focus:outline-none focus:ring-1 focus:ring-offset-1 focus:ring-purple-500 transition-all shadow-sm transform hover:scale-105"},e[24]||(e[24]=[t("span",{class:"material-icons text-xs mr-1"},"bug_report",-1),p(" Test Add Payhead Modal ")]))):m("",!0)])])),a.isLoading?(n(),u("div",Nt,e[25]||(e[25]=[t("div",{class:"flex flex-col items-center"},[t("div",{class:"loader ease-linear rounded-full border-2 border-t-2 border-gray-200 h-8 w-8 mb-2"}),t("h2",{class:"text-center text-gray-600 text-base font-semibold"},"Loading..."),t("p",{class:"w-full text-center text-gray-500 text-xs"},"Please wait while we fetch the data")],-1)]))):a.activeTab==="payheads"&&i.filteredPayHeads.length===0||a.activeTab==="employees"&&i.filteredEmployees.length===0?(n(),u("div",Ut,[t("div",Lt,[e[27]||(e[27]=t("div",{class:"rounded-full bg-blue-100 p-2 mb-2"},[t("span",{class:"material-icons text-blue-600 text-lg"},"search_off")],-1)),e[28]||(e[28]=t("h3",{class:"text-base font-medium text-gray-900"},"No results found",-1)),t("p",It," We couldn't find any "+d(a.activeTab)+" that match your search criteria. Try adjusting your filters or search terms. ",1),t("button",{onClick:e[6]||(e[6]=(...r)=>i.resetFilters&&i.resetFilters(...r)),class:"mt-2 p-1.5 rounded-sm text-gray-700 hover:text-gray-900 bg-white border border-gray-300 shadow-sm focus:outline-none focus:ring-1 focus:ring-offset-1 focus:ring-blue-500 transition-all transform hover:scale-105",title:"Reset Filters"},e[26]||(e[26]=[t("span",{class:"material-icons text-base"},"refresh",-1)]))])])):(n(),u("div",jt,[a.activeTab==="payheads"?(n(),u("div",Vt,[t("div",qt," Showing "+d(i.filteredPayHeads.length)+" "+d(i.filteredPayHeads.length===1?"item":"items"),1)])):m("",!0),t("div",Ft,[(n(),w(S(a.activeTab==="payheads"?"PayHeadTable":"EmployeePayrollTable"),{payHeads:i.filteredPayHeads,employees:i.paginatedEmployees,onUpdate:i.showUpdatePayHeadModal,onDelete:i.confirmDeletePayHead,onAddPayhead:i.openAddPayheadModal},null,40,["payHeads","employees","onUpdate","onDelete","onAddPayhead"]))]),a.activeTab==="employees"&&i.totalPages>1?(n(),u("div",$t,[t("div",zt,[e[29]||(e[29]=p(" Showing ")),t("span",Bt,d((a.currentPage-1)*a.itemsPerPage+1),1),e[30]||(e[30]=p(" to ")),t("span",Qt,d(Math.min(a.currentPage*a.itemsPerPage,i.filteredEmployees.length)),1),e[31]||(e[31]=p(" of ")),t("span",Ot,d(i.filteredEmployees.length),1),e[32]||(e[32]=p(" entries "))]),t("div",Gt,[t("button",{onClick:e[7]||(e[7]=(...r)=>i.prevPage&&i.prevPage(...r)),disabled:a.currentPage===1,class:E(["p-1 rounded-md hover:bg-blue-100 transition-all disabled:opacity-50 disabled:hover:bg-transparent",a.currentPage===1?"text-gray-400":"text-gray-700"]),title:"Previous Page"},e[33]||(e[33]=[t("span",{class:"material-icons text-base"},"chevron_left",-1)]),10,Wt),t("div",Jt,[(n(!0),u(g,null,f(i.displayedPages,r=>(n(),u(g,{key:r},[typeof r=="number"?(n(),u("button",{key:0,onClick:v=>a.currentPage=r,class:E(["min-w-[24px] h-6 rounded-md text-xs font-medium transition-all",a.currentPage===r?"bg-blue-600 text-white":"hover:bg-blue-100 text-gray-700"])},d(r),11,Kt)):r==="..."?(n(),u("span",Xt,"...")):m("",!0)],64))),128))]),t("button",{onClick:e[8]||(e[8]=(...r)=>i.nextPage&&i.nextPage(...r)),disabled:a.currentPage===i.totalPages,class:E(["p-1 rounded-md hover:bg-blue-100 transition-all disabled:opacity-50 disabled:hover:bg-transparent",a.currentPage===i.totalPages?"text-gray-400":"text-gray-700"]),title:"Next Page"},e[34]||(e[34]=[t("span",{class:"material-icons text-base"},"chevron_right",-1)]),10,Yt)])])):m("",!0)]))]),P(D,{name:"modal-fade"},{default:_(()=>[a.showAddModal?(n(),w(l,{key:0,payHead:a.newPayHead,title:"Add New Pay Head",onClose:e[9]||(e[9]=r=>a.showAddModal=!1),onSave:i.addPayHead},null,8,["payHead","onSave"])):m("",!0)]),_:1}),P(D,{name:"modal-fade"},{default:_(()=>[a.showUpdateModal?(n(),w(l,{key:0,payHead:a.selectedPayHead,isUpdate:!0,title:"Update Pay Head",onClose:e[10]||(e[10]=r=>a.showUpdateModal=!1),onSave:i.updatePayHead},null,8,["payHead","onSave"])):m("",!0)]),_:1}),P(D,{name:"modal-fade"},{default:_(()=>[a.showAddPayheadModal?(n(),w(y,{key:0,availablePayheads:a.availablePayheads,selectedEmployeePayheads:a.selectedEmployeePayheads,selectedEmployee:a.selectedEmployee,totalPayableSalary:i.totalPayableSalary,onClose:e[11]||(e[11]=r=>a.showAddPayheadModal=!1),onSave:i.savePayheads,onAddPayhead:i.addPayheadToEmployee,onRemovePayhead:i.removePayheadFromEmployee,onUpdatePayhead:i.updatePayheadInEmployee},null,8,["availablePayheads","selectedEmployeePayheads","selectedEmployee","totalPayableSalary","onSave","onAddPayhead","onRemovePayhead","onUpdatePayhead"])):m("",!0)]),_:1}),P(D,{name:"modal-fade"},{default:_(()=>[a.showRecurringDeductionModal?(n(),w(C,{key:0,availableDeductions:i.filteredPayHeads.filter(r=>r.type==="Deductions"),employees:a.employees,onClose:e[12]||(e[12]=r=>a.showRecurringDeductionModal=!1),onSave:i.saveRecurringDeductions},null,8,["availableDeductions","employees","onSave"])):m("",!0)]),_:1}),t("div",Zt,[P(N,{"enter-active-class":"transform ease-out duration-300 transition","enter-from-class":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2","enter-to-class":"translate-y-0 opacity-100 sm:translate-x-0","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0","move-class":"transition duration-500"},{default:_(()=>[a.statusMessage?(n(),u("div",{key:a.statusMessage,class:"max-w-xs w-full bg-white rounded-md shadow-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden"},[t("div",es,[t("div",ts,[t("div",ss,[t("span",{class:E(["material-icons text-base",a.statusMessage.includes("success")?"text-green-500":"text-red-500"])},d(a.statusMessage.includes("success")?"check_circle":"error"),3)]),t("div",as,[t("p",ls,d(a.statusMessage),1)]),t("button",{onClick:e[13]||(e[13]=r=>a.statusMessage=""),class:"ml-2 flex-shrink-0 rounded-sm text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-1 focus:ring-blue-500",title:"Close Notification"},e[35]||(e[35]=[t("span",{class:"material-icons text-base"},"close",-1)]))])])])):m("",!0)]),_:1})])])}const ns=b(xt,[["render",os],["__scopeId","data-v-a4866576"]]);export{ns as default};
